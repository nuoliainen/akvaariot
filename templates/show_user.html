{% extends "layout.html" %}

{% block title %}
  {{ "Oma sivu" if session.user_id == user.id else "Käyttäjä: " ~ user.username }}
{% endblock %}

{% block content %}
  <h2>
    {% if session.user_id == user.id %}
      Oma profiili
    {% else %}
      Käyttäjän <span>{{ user.username }}</span> profiili
    {% endif %}
  </h2>

  <div class="user-stats">
    {% if session.user_id == user.id %}
      {% set subject = "Sinulla" %}
    {% else %}
      {% set subject = "Käyttäjällä" %}
    {% endif %}

    {% if aquarium_count.count == 0 %}
      {{ subject }} ei ole akvaarioita.
    {% elif aquarium_count.count == 1 %}
      {{ subject }} on <b>1</b> akvaario, jossa on <b>{{ aquarium_count.volume }}</b> litraa vettä.
    {% else %}
      {{ subject }} on <b>{{ aquarium_count.count }}</b> akvaariota, joissa on yhteensä <b>{{ aquarium_count.volume }}</b> litraa vettä.
    {% endif %}
    </br>
    {% if critter_counts.species == 0 %}
      {{ subject }} ei ole eläimiä.
    {% elif critter_counts.species == 1 and critter_counts.individuals == 1 %}
      {{ subject }} on <b>1</b> laji ja <b>1</b> yksilö.
    {% elif critter_counts.species == 1 and critter_counts.individuals > 1 %}
      {{ subject }} on <b>1</b> laji ja <b>{{ critter_counts.individuals }}</b> yksilöä.
    {% else %}
      {{ subject }} on yhteensä <b>{{ critter_counts.species }}</b> lajia ja <b>{{ critter_counts.individuals }}</b> yksilöä.
    {% endif %}
    </br>
    {% if age.date %}
      Vanhin akvaario on pystytetty <b>{{ age.date[8:10] }}-{{ age.date[5:7] }}-{{ age.date[:4] }}</b>
      {% if age.years == 1 %}
        (1 vuosi ja
      {% elif age.years > 1 %}
        ({{ age.years }} vuotta ja
      {% endif %}
      {{ age.days }} päivää sitten).
    {% endif %}

  </div>

  {% if aquariums %}
    <h3>Akvaariot</h3>
    {% include "aquarium_list.html" %}
  {% endif %}

  {% if page_count > 1 %}
    <div class="page-nav">
      <a href="/user/{{ user.id }}/{{ 1 }}">ensimmäinen</a>
      <a href="/user/{{ user.id }}/{{ page - 1 }}">&lt;&lt;</a>
      Sivu {{ page }}/{{ page_count }}
      <a href="/user/{{ user.id }}/{{ page + 1 }}">&gt;&gt;</a>
      <a href="/user/{{ user.id }}/{{ page_count }}">viimeinen</a>
    </div>
  {% endif %}
{% endblock %}
