{% extends "layout.html" %}

{% block title %}Kommentit: {{ aquarium.name }}{% endblock %}

{% block content %}
  <h2>Akvaarion {{ aquarium.name }} kaikki kommentit ({{ total_comments }} kpl)</h2>

  <p>
    <a class="button return" href="/aquarium/{{ aquarium.id }}">Takaisin</a>
  </p>

  {% if session.username %}
    <h3>Lisää kommentti</h3>
    <label for="content">Lisää kommentti</label>:<br />
      <textarea id="content" name="content" rows="10" cols="60" maxlength="{{ max_comment_length }}" required>{{ draft_comment }}</textarea> <br />
      <p class="help-text">
        Maksimipituus {{ max_comment_length }} merkkiä.
      </p>
      <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}" />
      <input type="hidden" name="aquarium_id" value="{{ aquarium.id }}" />
      <input class="button" type="submit" name="show_comments" value="Lähetä" />
    </form>
  {% endif %}

  {% if comments %}
    <hr />
    {% include "comments.html" %}
  {% else %}
    <p>Ei vielä kommentteja</p>
  {% endif %}

  {% if page_count > 1 %}
    <div class="page-nav">
      <a href="aquarium/{{ aquarium.id }}/comments/{{ 1 }}">ensimmäinen</a>
      <a href="/aquarium/{{ aquarium.id }}/comments/{{ page - 1 }}">&lt;&lt;</a>
      Sivu {{ page }}/{{ page_count }}
      <a href="/aquarium/{{ aquarium.id }}/comments/{{ page + 1 }}">&gt;&gt;</a>
      <a href="aquarium/{{ aquarium.id }}/comments/{{ page_count }}">viimeinen</a>
    </div>
  {% endif %}
{% endblock %}
